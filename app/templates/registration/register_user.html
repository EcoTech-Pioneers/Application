<!DOCTYPE html>
<html>
	<head>
		<title>User Registration</title>
	</head>
	<body>
		<h1>User Registration</h1>
		<form id="registration-form" method="POST" action="/api/register">
			<label for="username">Username:</label>
			<input type="text" name="username" required>
			<br>
			<label for="password">Password:</label>
			<input type="password" name="password" required>
			<br>
			<label for="confirm_password">Confirm Password:</label>
			<input type="password" name="confirm_password" required>
			<br>
			<label for="email">Email Address:</label>
			<input type="email" name="email" required>
			<br>
			<label for="phone_number">Phone Number:</label>
			<input type="text" name="phone_number" required>
			<br>
			<button type="submit">Register</button>
		</form>

		<script>
        document.getElementById('registration-form').addEventListener('submit', function (e) {
            e.preventDefault();
            
            fetch('/api/register', {
                method: 'POST',
                body: new FormData(this),
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                if (data.message === 'User registered successfully') {
                    window.location.href = '/dashboard';
                }
            })
            .catch(error => {
                console.error(error);
                alert('Registration failed');
            });
        });
		</script>
	</body>
</html>
